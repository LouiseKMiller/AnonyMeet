<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Group Project LKM file</title>
	<!-- css -->
	<link rel="stylesheet" href="assets/css/reset.css">
	<link rel="stylesheet" href="assets/css/style.css">

	<!-- jQuery Reference -->

	<script src="https://code.jquery.com/jquery-1.12.3.min.js" integrity="sha256-aaODHAgvwQW1bFOGXMeX+pC4PZIPsvn2h1sArYOhgXQ=" crossorigin="anonymous"></script>

	<!-- Firebase Reference -->
	<script src="https://cdn.firebase.com/js/client/2.4.1/firebase.js"></script>
	
</head>


<!-- BODY STARTS HERE
-->


<body>
	<div class="container">
		<div class="options-box">
			<h1>Find Your New NYC Home</h1>
			<div>
				<input id="show-listing" type="button" value="show listings">
				<input id="hide-listing" type="button" value="hide listings">
			</div>
		</div>
	</div>
		<div id='map'></div>

 <!-- STICKY FOOTER HERE  -->
	<footer class="site-footer">
		<small>&copy; Copyright 2016 Louise K. Miller</small>
	</footer>

	<script type="text/javascript" src="assets/javascript/app.js"></script>

<script> 
var map;
var markers = [];
function initMap() {
	// Constructor creates a new map - only center and zoom are required.
	map = new google.maps.Map(document.getElementById('map'), {
		center: {lat: 40.7413549, lng: -73.9980244},
		zoom: 13
	});
	// this is the location for the marker
	// you can make this an array of marker objects
	//var tribeca = {lat: 40.719526, lng: -74.0089934};
	var locations = [
		{title: 'Park Ave Penthouse', location: {lat: 40.7713024, lng: -73.9632393}},
		{title: 'Chelsea Loft', location: {lat: 40.7444883, lng: -73.9949465}}

	];

	var largeInfowindow = new google.maps.InfoWindow();

	for (var i = 0; i<locations.length; i++) {
		// get the position from the locations array
		var position = locations[i].location;
		var title = locations[i].title;
		//create marker per location and push into markers array
		var marker = new google.maps.Marker({
			position: position,
			title: title,
			animation: google.maps.Animation.DROP,
			id: i
		});
		// push the marker to our array of markers
		markers.push(marker);
		// create an onclick event to topen an infowindow at each marker
		marker.addListener('click', function(){
			populateInfoWindow(this,largeInfoWindow);
		});

	}



	function populateInfoWindow(marker, infowindow) {
		// check to make sure the infowindow is not already opened in this marker.
		if (infowindow.marker != marker) {
			infowindow.marker = marker;
			infowindow.setContent('<div>'+marker.title+'</div>');
			infowindow.open(map, marker);
			// make sure the marker property is cleared if the infowindow is closed.
			infowindow.addListener('closeclick', function(){
				infowindow.setMarker(null);
			});
		}
	}
$('#show-listing').on("click", function(event){
	event.preventDefault();
	console.log("You ARE HERE");
	var bounds = new google.maps.LatLngBounds();
	// extend the boundaries of the map for each marker
	for (var i=0; i < markers.length; i++) {
		markers[i].setMap(map);
		bounds.extend(markers[i].position);
	};
	map.fitBounds(bounds);
});

$('#hide-listing').on("click", function(event){
	event.preventDefault();
	for (var i=0; i < markers.length; i++) {
		markers[i].setMap(null);
	};
});

};

</script>

	<script async defer
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDHLAzU1_hkV_IcuSPAhH61fqAi96I0V4c&v=3&callback=initMap">
	</script>

</body>
</html>